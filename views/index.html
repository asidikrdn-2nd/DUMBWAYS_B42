<html>
  <head>
    <link rel="stylesheet" href="/static/css/bootstrap.css" />
    <link
      rel="stylesheet"
      href="/static/icons/bootstrap-icons-1.10.2/bootstrap-icons.css"
    />
    <link rel="stylesheet" href="/static/icons/fontawesome-free/css/all.css" />
    <link rel="stylesheet" href="/static/css/style.css" />
    <link
      rel="shortcut icon"
      href="/static/img/logo-dumbways.png"
      type="image/x-icon"
    />
    <title>Task 12 DumbWays - asidikrdn</title>
  </head>
  <body>
    <!-- NavBar -->
    <nav class="navbar navbar-expand-lg px-2 px-lg-5 py-3">
      <div class="container-fluid">
        <a class="navbar-brand" href="/">
          <img
            src="/static/img/logo-dumbways.png"
            alt="logo-dumbways"
            id="logo"
          />
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav w-100 fw-bolder fs-5">
            <li class="nav-item mx-3">
              <a class="nav-link active" aria-current="page" href="/">Home</a>
            </li>
            {{if .LoginState.IsLogin}}
            <li class="nav-item mx-3">
              <a class="nav-link" href="/project">Add Project</a>
            </li>
            {{end}}
          </ul>
          <ul
            class="navbar-nav w-100 fw-bolder fs-5 d-lg-flex justify-content-end align-items-center d-block"
          >
            {{if .LoginState.IsLogin}}
            <li class="nav-item mx-3">
              <small class="my-0 lead d-none d-lg-block">
                Hello, {{.LoginState.UserName}}
              </small>
            </li>
            <li class="nav-item mx-3">
              <a class="nav-link" href="/logout"> Logout </a>
            </li>
            {{else}}
            <li class="nav-item mx-3">
              <a class="nav-link" href="/register"> Register </a>
            </li>
            <li class="nav-item mx-3">
              <a class="nav-link" href="/login"> Login </a>
            </li>
            {{end}}
            <li class="nav-item mx-3">
              <a
                class="nav-link fs-6 btn btn-dark text-white py-2 px-3 rounded-3"
                href="/contact"
              >
                Contact Me
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- End of NavBar -->

    {{if .LoginState.FlashData}}
    <div class="alert alert-success text-center" role="alert">
      {{.LoginState.FlashData}}
    </div>
    {{end}}

    <main>
      <!-- Intro Card -->
      <section id="intro" class="px-3 px-lg-0">
        <div class="container card my-5 p-5 rounded-4 border-0">
          <div class="row">
            <div class="col-lg-7 col-12 my-3 order-lg-first order-last">
              <div class="intro-text">
                <h1>Hi, I'm Sidik</h1>
                <p>
                  I'am a student of Informatics Engineering (extension class) at
                  Ibn Khaldun University. The activity that I do apart from
                  being a student is actively learning web programming
                  independently to increase my skills. From these activities, I
                  have created several simple static and dynamic web pages.
                </p>
                <p>
                  I am interested in becoming a Professional Front-End Web
                  Developer. I have studied some basic web programming materials
                  such as
                  <b>HTML</b>, <b>CSS</b>, and <b>Javascript</b>. I also studied
                  some Front-End Web Development Libraries like
                  <b>Bootstrap</b>, <b>ReactBootstrap</b> and <b>ReactJS</b>.
                </p>

                <div class="w-100 my-5 py-3">
                  <a
                    href="https://wa.me/6287711356758"
                    target="_blank"
                    id="contact-button"
                    class="d-inline-block nav-link"
                  >
                    <button
                      class="bg-dark text-white rounded-5 fs-4 px-4 py-1 me-3"
                    >
                      contact
                    </button>
                  </a>
                  <a
                    href="https://drive.google.com/file/d/1uSrHxAJ2rcZaeNVSfihRmsLC0Khoq41Z/view?usp=sharing"
                    target="_blank"
                    id="download-button"
                    class="d-inline-block nav-link"
                  >
                    <p class="fs-4">
                      download CV <i class="bi bi-download"></i>
                    </p>
                  </a>
                </div>
                <div class="social-media mt-4">
                  <a
                    href="https://www.linkedin.com/in/asidikrdn/"
                    target="_blank"
                    class="nav-link d-inline-block me-4"
                  >
                    <i class="bi bi-linkedin text-black fs-1"></i>
                  </a>
                  <a
                    href="https://www.instagram.com/asidikrdn/"
                    target="_blank"
                    class="nav-link d-inline-block me-4"
                  >
                    <i class="bi bi-instagram text-black fs-1"></i>
                  </a>
                  <a
                    href="https://facebook.com/sidik.rudini.7"
                    target="_blank"
                    class="nav-link d-inline-block me-4"
                  >
                    <i class="bi bi-facebook text-black fs-1"></i>
                  </a>
                  <a
                    href="https://twitter.com/asidikrdn"
                    target="_blank"
                    class="nav-link d-inline-block"
                  >
                    <i class="bi bi-twitter text-black fs-1"></i>
                  </a>
                </div>
              </div>
            </div>
            <div class="col-lg-5 col-12 my-3 order-lg-last order-first">
              <div class="card rounded-4">
                <div class="card-img">
                  <img
                    src="/static/img/profil.jpg"
                    alt="Ahmad Sidik Rudini"
                    class="img-fluid rounded-4"
                  />
                </div>
                <div class="card-body">
                  <div class="card-title text-center">
                    <h1>Ahmad Sidik Rudini</h1>
                  </div>
                  <div class="card-subtitle text-center">
                    <p>Fullstack Developer</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      <!-- End of Intro Card -->

      <!-- My Project -->
      <section id="project-list">
        <div class="container my-2">
          <h1 class="text-center py-5">My Project</h1>
          <div class="row">
            <!-- Mengambil data project dari content yang diparsing pada router, lalu menampilkannya dengan perulangan -->
            {{range $index, $dataProject := .DataProject}} {{if
            $.LoginState.IsLogin}} {{if eq $dataProject.UserId
            $.LoginState.UserId}}
            <div class="col-12 col-md-6 col-lg-4 my-2">
              <div class="card rounded-4 border-0 p-2 h-100">
                <div class="card-img p-3">
                  <a
                    href="/project-detail/{{$dataProject.Id}}"
                    class="nav-link"
                  >
                    <img
                      src="/static/img/{{$dataProject.Img}}"
                      alt="{{$dataProject.ProjectName}}"
                      class="img-fluid rounded-3"
                    />
                  </a>
                </div>
                <div class="card-body">
                  <div class="card-title">
                    <a
                      href="/project-detail/{{$dataProject.Id}}"
                      class="nav-link"
                    >
                      <h2>{{$dataProject.ProjectName}}</h2>
                    </a>
                  </div>
                  <div class="card-subtitle">
                    <p>
                      Duration : {{$dataProject.ShowDuration
                      $dataProject.StartDate $dataProject.EndDate}}
                    </p>
                  </div>
                  <div class="card-text">
                    <p style="text-align: justify">
                      {{$dataProject.ProjectDesc}}
                    </p>
                  </div>
                  <div class="tech-icon fs-3">
                    {{range $i, $icon := $dataProject.Tech}}
                    <i class="fa-brands fa-{{$icon}} me-2"></i>
                    {{end}}
                  </div>
                </div>
                <div class="card-button w-100 d-flex justify-content-between">
                  <a
                    href="/edit-project/{{$dataProject.Id}}"
                    class="btn btn-dark w-50 m-2"
                  >
                    Edit
                  </a>
                  <button
                    class="btn btn-dark w-50 m-2"
                    onclick="handleDeleteButton(`{{$dataProject.Id}}`)"
                  >
                    Delete
                  </button>
                </div>
              </div>
            </div>
            {{end}} {{else}}
            <div class="col-12 col-md-6 col-lg-4 my-2">
              <div class="card rounded-4 border-0 p-2 h-100">
                <div class="card-img p-3">
                  <a
                    href="/project-detail/{{$dataProject.Id}}"
                    class="nav-link"
                  >
                    <img
                      src="/static/img/{{$dataProject.Img}}"
                      alt="{{$dataProject.ProjectName}}"
                      class="img-fluid rounded-3"
                    />
                  </a>
                </div>
                <div class="card-body">
                  <div class="card-title">
                    <a
                      href="/project-detail/{{$dataProject.Id}}"
                      class="nav-link"
                    >
                      <h2>{{$dataProject.ProjectName}}</h2>
                    </a>
                  </div>
                  <div class="card-subtitle">
                    <p>
                      Duration : {{$dataProject.ShowDuration
                      $dataProject.StartDate $dataProject.EndDate}}
                    </p>
                  </div>
                  <div class="card-text">
                    <p style="text-align: justify">
                      {{$dataProject.ProjectDesc}}
                    </p>
                  </div>
                  <div class="tech-icon fs-3">
                    {{range $i, $icon := $dataProject.Tech}}
                    <i class="fa-brands fa-{{$icon}} me-2"></i>
                    {{end}}
                  </div>
                </div>
                <div class="card-footer text-center rounded-3 m-2">
                  <small>Added By {{$dataProject.UserName}}</small>
                </div>
              </div>
            </div>
            {{end}} {{end}}
          </div>
        </div>
      </section>
      <!-- End of My Project -->
    </main>

    <script src="/static/js/bootstrap.bundle.js"></script>
    <script>
      const handleDeleteButton = (id) => {
        // console.log(id);

        // apabila pengguna meng-klik ok (setuju data tersebut dihapus), maka akan diarahkan ke route /delete-project/{id}
        confirm("Apakah anda yakin ingin menghapus project ini ?") &&
          window.open(`/delete-project/${id}`, "_self");
      };
    </script>
  </body>
</html>
